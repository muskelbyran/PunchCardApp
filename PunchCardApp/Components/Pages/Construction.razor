@page "/"

@* @layout EmptyLayout *@

<style>
/* 	@@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap'); */

/* 	.intro {
	background-color: #1A1A1A;
	} */

	.btn {
		color: #000;
	}

	.button-row {
		display: flex;
		justify-content: center;
		gap: 1rem;
		margin-bottom: 1.5rem;
	}

	.logo {
		display: flex;
		justify-content: center;
		align-items: center;
		margin-bottom: 1rem;
	}

		.logo img {
			max-width: 300px;
			width: 100%;
			height: auto;
		}

	p {
		/* 	text-align: center; */
		/* font-size: 0.875rem; */
	}

	hr {
		/* border-top: 1px solid #ddd; */
		margin: 1.5rem 0;
	}

	h5 {
		/* font-family: 'Press Start 2P', monospace; */
		/* font-family: 'VT323', monospace; */
		font-size: 1.5rem;
		/* letter-spacing: 1px;
		color: #C17E00; */
		/* text-shadow: 0 0 5px #FFB000, 0 0 10px #FFB000, 0 0 20px #FF8C00, 0 0 30px #FF8C00, 0 0 40px #FF8C00; */
	}

	.test {
		/* display: flex; */
	}

	.two-side {
		/* 	display: flex;
			flex-direction: row; */
		gap: 1rem;
		max-width: 1700px;
		margin-left: 1rem;
		margin-right: 1rem;
		/* 		.test {
				width: 30%;
			} */
	}

	.raster-container {
		position: relative;
		height: 200px;
		
	}

	.raster-bar {
		width: 100%;
		height: 20px;
		/* background: linear-gradient(to right, red, yellow, lime, cyan, blue, magenta, red); */
		/* background: linear-gradient(145deg, #FDB99B, #CF8BF3, #A770EF); */
		background: linear-gradient(145deg, hsl(27, 100%, 20%), hsl(34, 100%, 41.6%));
		position: absolute;
		top: 50%;
		animation: bounce 2s ease-in-out infinite;
		animation-delay: var(--delay);

	}

	@@keyframes drift {
		0% {
			top: 20px;
		}

		50% {
			top: 120px;
		}

		100% {
			top: 20px;
		}
	}

	@@keyframes verticalDrift {
		0% {
			transform: translateY(0);
		}

		50% {
			transform: translateY(10cm);
		}

		100% {
			transform: translateY(0);
		}
	}

	@@keyframes bounce {
		0%, 100% {
			transform: translateY(-5px);
		}

		50% {
			transform: translateY(5px);
		}
	}

	.details {
		display: flex;
		flex-wrap: wrap;
		gap: 2rem;
		margin-top: 2rem;
	}
			
		.details > .made,
		.details > .github {
			flex: 1 1 48%;
			border: 1px solid #000;
		}

	
	@@media (max-width: 768px) {
		.details

	{
		flex-direction: column;
	}

	.details > .made,
	.details > .github {
		flex: 1 1 100%;
	}

	}
</style>

<div class="intro">
	<div class="logo">
		<a href="/">
			<img src="/images/new-logo.png" alt="Muskelbyrån Logo" />
		</a>
	</div>
	<div class="button-row d-flex justify-content-center my-4 gap-3">
		<NavLink class="btn btn-primary btn-rounded" href="/signin">Logga in</NavLink>
		<NavLink class="btn btn-primary btn-rounded" href="/signup">Skapa konto</NavLink>
	</div>
	<hr />
	<h5><marquee>Examensarbete</marquee></h5>
	<div class="two-side">
		@* <div class="test">
			<br />
			<p>* Det här är ett examensarbete i samarbete med Muskelbyrån. I webbappen finns ett backoffice för att hantera kunder och klippkort, men även en funktion för att skapa nyheter, events, workshops osv som sen läggs ut på hemsidan via ett API. Kunder ska kunna logga in och använda sina klippkort, uppdatera olika uppgifter. Fler funktioner tillkommer om det finns tid.</p>
			<br />
			<p>* Alla uppgifter i databasen kommer att raderas 31/5 och hela projektet kommer att gå i produktion via Muskelbyråns webhotell. Det innebär att ditt konto kommer att försvinna och att de här länkarna kommer att sluta att fungera.</p>
			<br />
			<p>* Som testare uppskattas att du lämnar ärlig och konstruktiv feedback utifrån din upplevelse av att använda webappen. Feedback lämnas genom feedbackfunktionen under 'kontakt' länken.</p>
			<br />
			<br />
			<p>* Alternativt använd denna tillfälliga Discordserver <strong>https://discord.gg/FZKEpyNM</strong>. Den plockas ner när examensarbetet är klart.</p>
			<br />
			<p>* Den här sidan / är en tillfällig sida så den behöver ingen feedback.</p>
			<br />
			<p>* Jag är medveten om att röd är en varningsfärg, men beställaren vill väldigt gärna ha dessa färgerna. Tacksam om alla åstiker och förbättringsförslag om färger.</p>
			<br />
			<p>* Den största buggen jag vet om just nu är att man blir utloggad efter kortare inaktivitet och att man då i vissa fall får Reconnecting to Server. Försöker åtgärda detta, men låg prioritet just nu.</p>
			<p>* Det är långt ifrån klart, det är fortfarande mycket buggar och fix med responsitivet. Mobilt läge är inte 100% i synk med desktop.</p>
			<br />
		</div> *@
		<div class="details">
			<div class="made">
				<details>
					<summary><h5>How its made:</h5></summary>
					<h5>Översikt</h5>
					<p>
						Systemet är uppbyggt med microservices där olika delar har tydligt ansvar och kommunicerar med varandra via API:er och databaskopplingar. Användaren interagerar via ett webbgränssnitt och validering hanteras av Azure.
					</p>
				<h5>Frontend</h5>
				<ul>
					<li><strong>Teknik:</strong> Angular, TypeScript</li>
					<li><strong>Roll:</strong> Webgränssnitt mot användare.</li>
				</ul>
						<h5>Backend</h5>
				<ul>
					<li><strong>Teknik:</strong> Blazor, .NET, Entity Framework</li>
					<li><strong>Roll:</strong> Affärslogik och hantering av användardata, klippkort och kurser.</li>
					<li>
						<strong>Integrationer:</strong>
						<ul>
							<li>Skickar valideringsmail via Azure</li>
							<li>Hämtar data från API</li>
							<li>Skriver/läser från databas</li>
						</ul>
					</li>
				</ul>
				<h5>API</h5>
				<ul>
					<li><strong>Teknik:</strong> .NET</li>
					<li><strong>Roll:</strong> Tjänst för att hämta kursinformation via JSON/HTTPS</li>
					<li><strong>Åtkomst:</strong> Läses av frontend</li>
				</ul>
				<h5>Databas</h5>
				<ul>
					<li><strong>Teknik:</strong> MsSQL</li>
					<li><strong>Roll:</strong> Central databas för användare, kurser och klippkort</li>
					<li><strong>Åtkomst:</strong> Backend skriver/läser, API har endast läsbehörighet via SQL/TCP</li>
				</ul>
				<h5>Azure</h5>
				<ul>
					<li><strong>Komponenter:</strong> Azure Functions, Service Bus</li>
					<li><strong>Roll:</strong> Skickar valideringsmail som triggas av backend</li>
				</ul>
				</details>
			</div>
			<div class="github">
				<details>
					<summary><h5>GitHub Changelog:</h5></summary>
					<ul id="commit-list"></ul>
					<script>
						const owner = "muskelbyran";
						const repo = "PunchCardApp";
						let page = 1;
						const perPage = 100;

						async function fetchCommits() {
							let commits = [];
							let moreData = true;

							while (moreData) {
								const response = await fetch(`https://api.github.com/repos/${owner}/${repo}/commits?per_page=${perPage}&page=${page}`);
								const data = await response.json();

							if (data.length > 0) {
								commits = commits.concat(data);
								page++;
							}
							else
							{
								moreData = false;
							}
						}

						displayCommits(commits);
						}

						function displayCommits(commits) {
							const list = document.getElementById("commit-list");

							commits.forEach(commit => {
								const li = document.createElement("li");
								// li.innerHTML = `<a href="${commit.html_url}" target="_blank">${commit.commit.message}</a>`;
								li.textContent = `${commit.commit.message} – ${new Date(commit.commit.author.date).toLocaleString()}`;
								list.appendChild(li);
							});
						}

						fetchCommits();
					</script>
				</details>

			</div>
		</div>
	</div>
	@* 	<div style="display: flex; justify-content: center;">
		<img src="/images/Resistance Is Futile.jpg" />
	</div> *@
	@* <div class="raster-container">
		<div class="raster-bar" style="--delay: 0s;"></div>
		<div class="raster-bar" style="--delay: 0.1s;"></div>
		<div class="raster-bar" style="--delay: 0.2s;"></div>
		<div class="raster-bar" style="--delay: 0.3s;"></div>
		<div class="raster-bar" style="--delay: 0.4s;"></div>
	</div> *@
</div>